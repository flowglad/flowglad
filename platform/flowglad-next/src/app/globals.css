@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  /* Hide scrollbar for Chrome, Safari and Opera */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  /* Hide scrollbar for IE, Edge and Firefox */
  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
  /* Custom focus box shadow for discount input */
  .discount-input-focus:focus {
    box-shadow:
      0 0 0 3px hsla(0, 0%, 4%, 25%),
      0 1px 1px 0 rgba(0, 0, 0, 0.08) !important;
  }
}

@layer base {
  html,
  body {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow-x: hidden;
  }

  body {
    background: var(--background);
    color: var(--foreground);
    font-family: var(--font-sans), system-ui, sans-serif;
  }

  /* Apply heading font to all heading elements */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-heading), serif;
    font-weight: 500;
  }

  /* Apply monospace font to code elements */
  code,
  pre,
  kbd,
  samp {
    font-family: var(--font-mono), monospace;
    font-weight: 450;
  }

  /* Apply default weight to font-mono utility class */
  .font-mono {
    font-weight: 450;
  }

  input:-webkit-autofill:not([data-stripe]):not(
      [name*="__privateStripe"]
    ),
  input:-webkit-autofill:hover:not([data-stripe]):not(
      [name*="__privateStripe"]
    ),
  input:-webkit-autofill:focus:not([data-stripe]):not(
      [name*="__privateStripe"]
    ),
  input:-webkit-autofill:active:not([data-stripe]):not(
      [name*="__privateStripe"]
    ) {
    /* -webkit-background-clip: text;
    -webkit-text-fill-color: inherit; */
    -webkit-text-fill-color: var(--foreground) !important;
    background-color: transparent !important;
    -webkit-background-clip: text !important;
    transition: background-color 5000s ease-in-out 0s;
    box-shadow: inset 0 0 20px 20px transparent;
  }

  /* Ensure Stripe iframes are visible and properly rendered */
  iframe[name*="__privateStripe"],
  iframe[title*="Google autocomplete"],
  iframe[src*="stripe.com"] {
    opacity: 1 !important;
    /* Remove background styling - let Appearance API handle content styling */
  }

  /* Specific positioning for Stripe autocomplete iframe to appear below input field */
  iframe[name*="__privateStripe"][title*="Google autocomplete suggestions"] {
    transform: translateY(
      4px
    ) !important; /* Push iframe down by 4px */
    margin-top: 0 !important;
  }

  /* DIAGNOSTIC & FIX: Direct styling of Google Places API elements */
  /* These might be rendered outside of Stripe's control */
  .pac-container {
    background-color: #ffffff !important;
    border: 1px solid #e5e7eb !important;
    border-radius: 8px !important;
    box-shadow:
      0px 4px 6px -1px rgba(0, 0, 0, 0.1),
      0px 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
    z-index: 9999 !important;
    font-family:
      var(--font-sans), -apple-system, BlinkMacSystemFont, "Segoe UI",
      Roboto, sans-serif !important;
  }

  .pac-item {
    background-color: #ffffff !important;
    color: #0a0a0a !important;
    padding: 12px 16px !important;
    border-bottom: 1px solid #f3f4f6 !important;
    font-size: 14px !important;
    cursor: pointer !important;
  }

  .pac-item:hover,
  .pac-item.pac-item-selected {
    background-color: #f3f4f6 !important;
    color: #0a0a0a !important;
  }

  .pac-item-query {
    color: #0a0a0a !important;
    font-weight: 500 !important;
  }

  /* Additional Google Maps autocomplete styling */
  .pac-matched {
    font-weight: 600 !important;
    color: #0a0a0a !important;
  }

  /* Ensure Stripe Elements containers allow proper iframe positioning */
  .StripeElement {
    position: relative;
  }

  :root {
    --radius: 0.625rem;
    --background: 51 47% 97%;
    --foreground: 30 5.3% 7.5%;
    --card: 0 0% 100%;
    --muted-card: 60 43% 99%;
    --card-foreground: 30 5.3% 7.5%;
    --popover: 60 43% 99%;
    --popover-foreground: 30 5.3% 7.5%;
    --primary: 24 5.9% 16.7%;
    --primary-foreground: 51 46.7% 97.1%;
    --secondary: 53 22.2% 92.9%;
    --secondary-foreground: 24 5.9% 16.7%;
    --muted: 49 37.9% 94.3%;
    --muted-foreground: 50 6.3% 37.3%;
    --muted-secondary: 49 38% 94%;
    --accent: 53 22.2% 92.9%;
    --accent-foreground: 24 5.9% 16.7%;
    --destructive: 15 85% 58%;
    --border: 12 9.1% 89.2%;
    --input: 12 9.1% 89.2%;
    --ring: 43 25.5% 73.1%;
    --chart-1: 35 75% 65%;
    --chart-2: 195 40% 60%;
    --chart-3: 225 25% 40%;
    --chart-4: 85 65% 83%;
    --chart-5: 75 65% 77%;
    --sidebar: 51 46.7% 97.1%;
    --sidebar-foreground: 30 5.3% 7.5%;
    --sidebar-primary: 24 5.9% 16.7%;
    --sidebar-primary-foreground: 51 46.7% 97.1%;
    --sidebar-accent: 53 22.2% 92.9%;
    --sidebar-accent-foreground: 24 5.9% 16.7%;
    --sidebar-border: 12 9.1% 89.2%;
    --sidebar-ring: 43 25.5% 73.1%;

    /* custom spacing values */
    --spacing-page: 32px;

    /* custom color values */
    --jade-foreground: 152 41.3% 24.7%;
    --jade-muted-foreground: 152 37.8% 38.4%;
    --jade-background: 153 61% 90%;
    --jade-border: 152 41.3% 24.7% / 20%;
    --brownstone-foreground: 28 68% 30%;
    --brownstone-muted-foreground: 28 55% 45%;
    --brownstone-background: 28 60% 92%;
    --brownstone-border: 28 68% 30% / 20%;
    --lapis-foreground: 207 100% 29%;
    --lapis-muted-foreground: 207 70% 42%;
    --lapis-background: 207 80% 92%;
    --lapis-border: 207 100% 29% / 20%;
    --amethyst-foreground: 251 47% 45%;
    --amethyst-muted-foreground: 251 42% 55%;
    --amethyst-background: 251 60% 93%;
    --amethyst-border: 251 47% 45% / 20%;
    --citrine-foreground: 49 70% 28%;
    --citrine-muted-foreground: 49 55% 42%;
    --citrine-background: 49 60% 88%;
    --citrine-border: 49 70% 28% / 20%;

    /* Status Badge Colors - Light Mode */
    --status-success-bg: 153 61% 90%;
    --status-success-fg: 152 41.3% 24.7%;
    --status-success-border: 152 41.3% 24.7% / 20%;

    --status-warning-bg: 48 96% 89%;
    --status-warning-fg: 32 81% 29%;
    --status-warning-border: 48 96% 83%;

    --status-destructive-bg: 0 86% 94%;
    --status-destructive-fg: 0 74% 42%;
    --status-destructive-border: 0 86% 89%;

    --status-info-bg: 214 95% 93%;
    --status-info-fg: 224 76% 48%;
    --status-info-border: 214 95% 87%;

    --status-muted-bg: var(--muted);
    --status-muted-fg: var(--muted-foreground);
    --status-muted-border: var(--border);
  }

  .dark {
    --background: 24 5.9% 16.7%;
    --foreground: 51 47% 97%;
    --card: 25 8.6% 22.8%;
    --muted-card: 30 5.1% 20.4%;
    --card-foreground: 51 47% 97%;
    --popover: 30 5.1% 20.4%;
    --popover-foreground: 51 47% 97%;
    --primary: 49 37.9% 91.2%;
    --primary-foreground: 24 5.9% 16.7%;
    --secondary: 25 8.6% 22.8%;
    --secondary-foreground: 51 47% 97%;
    --muted: 25 8.6% 22.8%;
    --muted-foreground: 43 25.5% 73.2%;
    --muted-secondary: 24 9% 23%;
    --accent: 23 6.2% 25.5%;
    --accent-foreground: 51 47% 97%;
    --destructive: 0 90.8% 70.8%;
    --border: 0 0% 100% / 10%;
    --input: 0 0% 100% / 15%;
    --ring: 39 17% 46.3%;
    --chart-1: 270 85% 49%;
    --chart-2: 155 50% 70%;
    --chart-3: 75 65% 77%;
    --chart-4: 310 80% 63%;
    --chart-5: 20 85% 65%;
    --sidebar: 24 5.9% 16.7%;
    --sidebar-foreground: 51 47% 97%;
    --sidebar-primary: 28 78.7% 59.6%;
    --sidebar-primary-foreground: 51 47% 97%;
    --sidebar-accent: 25 8.6% 22.8%;
    --sidebar-accent-foreground: 51 47% 97%;
    --sidebar-border: 0 0% 100% / 10%;
    --sidebar-ring: 35 15.2% 40.2%;

    /* custom color values */
    --jade-foreground: 153 48% 83%;
    --jade-muted-foreground: 152 45% 66%;
    --jade-background: 152 39% 31% / 33%;
    --jade-border: 153 48% 83% / 20%;

    --brownstone-foreground: 28 75% 78%;
    --brownstone-muted-foreground: 28 60% 62%;
    --brownstone-background: 28 65% 32% / 33%;
    --brownstone-border: 28 75% 78% / 20%;

    --lapis-foreground: 205 100% 73%;
    --lapis-muted-foreground: 205 80% 60%;
    --lapis-background: 207 70% 30% / 33%;
    --lapis-border: 205 100% 73% / 20%;

    --amethyst-foreground: 251 52% 82%;
    --amethyst-muted-foreground: 251 47% 68%;
    --amethyst-background: 251 45% 35% / 33%;
    --amethyst-border: 251 52% 82% / 20%;

    --citrine-foreground: 49 85% 78%;
    --citrine-muted-foreground: 49 72% 62%;
    --citrine-background: 49 78% 32% / 33%;
    --citrine-border: 49 85% 78% / 20%;

    /* Status Badge Colors - Dark Mode */
    --status-success-bg: 152 39% 31% / 33%;
    --status-success-fg: 153 48% 83%;
    --status-success-border: 153 48% 83% / 20%;

    --status-warning-bg: 32 81% 29% / 30%;
    --status-warning-fg: 48 96% 83%;
    --status-warning-border: 32 81% 29%;

    --status-destructive-bg: 0 74% 42% / 30%;
    --status-destructive-fg: 0 86% 89%;
    --status-destructive-border: 0 74% 42%;

    --status-info-bg: 224 76% 48% / 30%;
    --status-info-fg: 214 95% 87%;
    --status-info-border: 224 76% 48%;

    /* muted inherits from existing --muted, --muted-foreground, --border */
  }
}

.tiptap {
  :first-child {
    margin-top: 0;
  }
  &:focus-visible {
    outline: none;
  }
}

input:-internal-autofill-selected:not([data-stripe]):not(
    [name*="__privateStripe"]
  ) {
  background-color: hsl(var(--input)) !important;
}

input:-webkit-autofill:not([data-stripe]):not(
    [name*="__privateStripe"]
  ) {
  background-color: hsl(var(--input)) !important;
}

input {
  -webkit-text-fill-color: inherit !important;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    overscroll-behavior: none;
    transition:
      background-color 0.3s ease,
      color 0.3s ease;
  }
}
