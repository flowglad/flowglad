## Installation

<CodeGroup>

```bash npm
npm install @flowglad/express
```

```bash yarn
yarn add @flowglad/express
```

```bash bun
bun add @flowglad/express
```

</CodeGroup>

## Quick Start

### 1. Set Up Environment Variables

```bash .env
FLOWGLAD_SECRET_KEY="sk_test_..."
```

### 2. Create Flowglad Server Instance

```ts src/utils/flowglad.ts
import { FlowgladServer } from '@flowglad/express'

export const flowgladServer = new FlowgladServer({
  getRequestingCustomer: async () => {
    // Return customer based on your auth system
    return {
      externalId: 'user-123',
      name: 'John Doe',
      email: 'john@example.com',
    }
  },
})
```

### 3. Add Routes to Your Express App

<CodeGroup>

```ts Using Router (Recommended)
import express from 'express'
import { createFlowgladExpressRouter } from '@flowglad/express'
import { flowgladServer } from './utils/flowglad'

const app = express()

// Mount Flowglad routes at /api/flowglad
app.use('/api/flowglad', createFlowgladExpressRouter({ flowgladServer }))

app.listen(3000, () => {
  console.log('Server running on port 3000')
})
```

```ts Using Route Handler
import express from 'express'
import { createFlowgladExpressRouteHandler } from '@flowglad/express'
import { flowgladServer } from './utils/flowglad'

const app = express()

const flowgladHandler = createFlowgladExpressRouteHandler({ flowgladServer })

// Handle all Flowglad routes
app.all('/api/flowglad/*', flowgladHandler)

app.listen(3000)
```

</CodeGroup>
